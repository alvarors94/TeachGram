{% extends "base.html"%}
{% block titulo %} Ver publicaciones {% endblock %}
{% block contenido %} 
{%if user.is_superuser%}
<div class="container mt-5"> <!-- Agregando margen superior a la tarjeta -->
    <div class="card">
        <div class="card-header" style="background-color: rgb(173, 164, 158);"><strong>Listado de perfiles</strong></div>
<div class="table-responsive">
    <table class="table table-striped table-bordered table-hover">
        <thead class="thead-dark">
            <tr>
                <th scope="col">ID Publicación</th>
                <th scope="col">Foto de perfil</th>
                <th scope="col">Nombre Usuario</th>
                <th scope="col">ID Usuario</th>
                <th scope="col">Descripción</th>
                <th scope="col">Fecha de publicación</th>
                <th scope="col">Comentarios</th>
                <th scope="col">Agregar comentarios</th>
                <th scope="col">Ver comentarios</th>
                <th scope="col">Editar publicación</th>
                <th scope="col">Eliminar publicación</th>
            </tr>
        </thead>
        <tbody> 
            {% for publicacion in publicaciones %}
            <tr>
                <td>{{ publicacion.id }}</td>
                {% for perfil in perfiles %}
                    {% if perfil.username_id == publicacion.user_id %}
                        <td><a href="{% url 'ver_perfil' publicacion.user %}" class="no-link-style"><img src="{{ perfil.profile_pic.url }}" height="60" width="60" style="border-radius: 50%;"/></a></td>
                    {% endif %}
                {% endfor %}
                <td><a href="{% url 'ver_perfil' publicacion.user %}" class="no-link-style">{{ publicacion.user }}</a></td>
                <td>{{ publicacion.user_id }}</td>
                <td>{{ publicacion.descripcion }}</td>
                <td>{{ publicacion.fecha_publicacion }}</td>
                <td>{{ publicacion.numero_de_comentarios }}</td>
                <td><a class="btn btn-secondary btn-sm" href="{% url 'agregar_comentario' publicacion.id %}" role="button">Agregar Comentarios</a></td>
                <td><a class="btn btn-primary btn-sm" href="{% url 'ver_comentarios' publicacion.id %}" role="button">Ver Comentarios</a></td>
                <td><a class="btn btn-warning btn-sm" href="{% url 'editar_publicacion' publicacion.id %}" role="button">Editar Publicación</a></td>
                <td><a class="btn btn-danger btn-sm" href="{% url 'eliminar_publicacion' publicacion.id %}" role="button">Eliminar Publicación</a></td>
            </tr>
        {% endfor %}

        
        </tbody>
    </table>
</div>
</div>
</div>
{%endif%}
{% endblock %}